/*!
 * Torro Forms Version 1.0.0-beta.8 (http://torro-forms.com)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
window.torro=window.torro||{},function(t,n,e,i,o,r){"use strict";function d(t){u++,c["builder"+u]=[],this.instanceNumber=u,this.$el=n(t),this.elementTypes,this.form,this.containers,this.elements,this.elementChoices,this.elementSettings}var s,u=0,l=[],c={};e.extend(d.prototype,{init:function(){return this.$el.length?void t.api.init().done(e.bind(function(){new t.api.models.Form({id:parseInt(n("#post_ID").val(),10)}).fetch({data:{context:"edit",_embed:!0},context:this,success:function(i){(new t.api.collections.ElementTypes).fetch({data:{context:"edit"},context:this,success:function(o){n(document).ready(e.bind(function(){var n;l.push(this.instanceCount),this.elementTypes=t.Builder.ElementTypes.fromApiCollection(o),this.addHooks(),this.setupInitialData(i);for(n in c["builder"+this.instanceCount])c["builder"+this.instanceCount][n](this);delete c["builder"+this.instanceCount]},this))},error:function(){n(document).ready(e.bind(function(){this.fail(r.couldNotLoadData)},this))}})},error:function(){n(document).ready(e.bind(function(){this.fail(r.couldNotLoadData)},this))}})},this)).fail(e.bind(function(){n(document).ready(e.bind(function(){this.fail(r.couldNotLoadData)},this))},this)):void console.error(r.couldNotInitCanvas)},addHooks:function(){!e.contains(l,this.instanceCount)},setupInitialData:function(t){!e.contains(l,this.instanceCount)},onLoad:function(t){return e.isUndefined(c["builder"+this.instanceCount])?void t(this):void c["builder"+this.instanceCount].push(t)},fail:function(n){var e=t.template("failure");this.$el.find(".drag-drop-area").addClass("is-empty").html(e({message:n}))}}),t.Builder=d,t.Builder.getInstance=function(){return s||(s=new d("#torro-form-canvas"),s.init()),s}}(window.torro,window.jQuery,window._,window.Backbone,window.wp,window.torroBuilderI18n),function(t,n){"use strict";function e(t){this.attributes=t}n.extend(e.prototype,{getSlug:function(){return this.attributes.slug},getTitle:function(){return this.attributes.title},getDescription:function(){return this.attributes.description},getIconUrl:function(){return this.attributes.icon_url},isEvaluable:function(){return this.attributes.evaluable},isMultiField:function(){return this.attributes.multifield},getSections:function(){return this.attributes.sections},getFields:function(){return this.attributes.fields}}),t.ElementType=e}(window.torro.Builder,window._),function(t,n){"use strict";function e(t){var n;this.types={};for(n in t)this.types[t[n].getSlug()]=t[n]}n.extend(e.prototype,{get:function(t){if(!n.isUndefined(this.types[t]))return this.types[t]},getAll:function(){return this.types}}),e.fromApiCollection=function(i){var o=[];return i.each(function(e){var i=n.extend({},e.attributes);i._links&&delete i._links,i._embedded&&delete i._embedded,o.push(new t.ElementType(i))}),new e(o)},t.ElementTypes=e}(window.torro.Builder,window._),function(t,n,e){"use strict";t.ContainerModel=e.Model.extend({defaults:{id:0,form_id:0,label:"",sort:0},sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementChoiceModel=e.Model.extend({defaults:{id:0,element_id:0,field:"",value:"",sort:0},sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementModel=e.Model.extend({defaults:{id:0,container_id:0,label:"",sort:0,type:"textfield"},sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementSettingModel=e.Model.extend({defaults:{id:0,element_id:0,name:"",value:""},sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.FormModel=e.Model.extend({defaults:{id:0,title:"",slug:"",author:0,status:"draft",timestamp:0,timestamp_modified:0},sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ContainerCollection=e.Collection.extend({model:t.ContainerModel,sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementChoiceCollection=e.Collection.extend({model:t.ElementChoiceModel,sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementCollection=e.Collection.extend({model:t.ElementModel,sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.ElementSettingCollection=e.Collection.extend({model:t.ElementSettingModel,sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t,n,e){"use strict";t.FormCollection=e.Collection.extend({model:t.FormModel,sync:function(){return!1}})}(window.torro.Builder,window._,window.Backbone),function(t){"use strict";t.getInstance()}(window.torro.Builder);