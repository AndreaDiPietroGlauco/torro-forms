/*!
 * Torro Forms Version 1.0.0-beta.8 (http://torro-forms.com)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
window.torro=window.torro||{},function(i,n,t,o,e,d){"use strict";function r(i){s++,a["builder"+s]=[],this.instanceNumber=s,this.$el=n(i)}var s=0,a={};t.extend(r.prototype,{init:function(){return this.$el.length?void i.api.init().done(t.bind(function(){new i.api.models.Form({id:parseInt(n("#post_ID").val(),10)}).fetch({data:{_embed:!0},context:this,success:function(i){n(document).ready(t.bind(function(){console.log(i);for(var n in a["builder"+this.instanceCount])a["builder"+this.instanceCount][n](this);delete a["builder"+this.instanceCount]},this))}})},this)).fail(t.bind(function(){n(document).ready(t.bind(function(){this.fail(d.couldNotLoadData)},this))},this)):void console.error(d.couldNotInitCanvas)},onLoad:function(i){return t.isUndefined(a["builder"+this.instanceCount])?void i(this):void a["builder"+this.instanceCount].push(i)},fail:function(n){var t=i.template("failure");this.$el.find(".drag-drop-area").addClass("is-empty").html(t({message:n}))}});var u=new r("#torro-form-canvas");u.init(),i.Builder=r,i.Builder.instance=function(){return u}}(window.torro,window.jQuery,window._,window.Backbone,window.wp,window.torroBuilderI18n);