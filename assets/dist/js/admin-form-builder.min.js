/*!
 * Torro Forms Version 1.0.0-beta.8 (http://torro-forms.com)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
window.torro=window.torro||{},function(t,i,n,e,o,s){"use strict";function r(t){d++,c["builder"+d]=[],this.instanceNumber=d,this.$el=i(t),this.elementTypes,this.form,this.containers,this.elements,this.elementChoices,this.elementSettings}var u,d=0,a=[],c={};n.extend(r.prototype,{init:function(){return this.$el.length?void t.api.init().done(n.bind(function(){new t.api.models.Form({id:parseInt(i("#post_ID").val(),10)}).fetch({data:{context:"edit",_embed:!0},context:this,success:function(e){(new t.api.collections.ElementTypes).fetch({data:{context:"edit"},context:this,success:function(o){i(document).ready(n.bind(function(){var i;a.push(this.instanceCount),this.elementTypes=t.Builder.ElementTypes.fromApiCollection(o),this.addHooks(),this.setupInitialData(e);for(i in c["builder"+this.instanceCount])c["builder"+this.instanceCount][i](this);delete c["builder"+this.instanceCount]},this))},error:function(){i(document).ready(n.bind(function(){this.fail(s.couldNotLoadData)},this))}})},error:function(){i(document).ready(n.bind(function(){this.fail(s.couldNotLoadData)},this))}})},this)).fail(n.bind(function(){i(document).ready(n.bind(function(){this.fail(s.couldNotLoadData)},this))},this)):void console.error(s.couldNotInitCanvas)},addHooks:function(){!n.contains(a,this.instanceCount)},setupInitialData:function(t){!n.contains(a,this.instanceCount)},onLoad:function(t){return n.isUndefined(c["builder"+this.instanceCount])?void t(this):void c["builder"+this.instanceCount].push(t)},fail:function(i){var n=t.template("failure");this.$el.find(".drag-drop-area").addClass("is-empty").html(n({message:i}))}}),t.Builder=r,t.Builder.getInstance=function(){return u||(u=new r("#torro-form-canvas"),u.init()),u}}(window.torro,window.jQuery,window._,window.Backbone,window.wp,window.torroBuilderI18n),function(t,i){"use strict";function n(t){this.attributes=t}i.extend(n.prototype,{getSlug:function(){return this.attributes.slug},getTitle:function(){return this.attributes.title},getDescription:function(){return this.attributes.description},getIconUrl:function(){return this.attributes.icon_url},isEvaluable:function(){return this.attributes.evaluable},isMultiField:function(){return this.attributes.multifield}}),t.ElementType=n}(window.torro.Builder,window._),function(t,i){"use strict";function n(t){var i;this.types={};for(i in t)this.types[t[i].getSlug()]=t[i]}i.extend(n.prototype,{get:function(t){if(!i.isUndefined(this.types[t]))return this.types[t]},getAll:function(){return this.types}}),n.fromApiCollection=function(e){var o=[];return e.each(function(n){var e=i.extend({},n.attributes);e._links&&delete e._links,e._embedded&&delete e._embedded,o.push(new t.ElementType(e))}),new n(o)},t.ElementTypes=n}(window.torro.Builder,window._),function(t){"use strict";t.getInstance()}(window.torro.Builder);