/*!
 * Torro Forms Version 1.0.0-beta.8 (http://torro-forms.com)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
window.torro=window.torro||{},function(n,t,i,o,e,s){"use strict";function d(n){r++,c["builder"+r]=[],this.instanceNumber=r,this.$el=t(n)}var a,r=0,u=[],c={};i.extend(d.prototype,{init:function(){return this.$el.length?void n.api.init().done(i.bind(function(){new n.api.models.Form({id:parseInt(t("#post_ID").val(),10)}).fetch({data:{_embed:!0},context:this,success:function(n){t(document).ready(i.bind(function(){var t;u.push(this.instanceCount),console.log(n),this.addHooks(),this.setupInitialData(n);for(t in c["builder"+this.instanceCount])c["builder"+this.instanceCount][t](this);delete c["builder"+this.instanceCount]},this))}})},this)).fail(i.bind(function(){t(document).ready(i.bind(function(){this.fail(s.couldNotLoadData)},this))},this)):void console.error(s.couldNotInitCanvas)},addHooks:function(){!i.contains(u,this.instanceCount)},setupInitialData:function(n){!i.contains(u,this.instanceCount)},onLoad:function(n){return i.isUndefined(c["builder"+this.instanceCount])?void n(this):void c["builder"+this.instanceCount].push(n)},fail:function(t){var i=n.template("failure");this.$el.find(".drag-drop-area").addClass("is-empty").html(i({message:t}))}}),n.Builder=d,n.Builder.getInstance=function(){return a||(a=new d("#torro-form-canvas"),a.init()),a}}(window.torro,window.jQuery,window._,window.Backbone,window.wp,window.torroBuilderI18n),function(n){"use strict";n.getInstance()}(window.torro.Builder);